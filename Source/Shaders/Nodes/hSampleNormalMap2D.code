HALF3 hSampleNormalMap2D(HLSL(uniform) GLSL(mediump) sampler2D t, HALF4 st GLOBALS) {
	HALF4 s = tex2D(t, st.xy);
	s.x = s.x * s.w;
	s.xy = (s.xy - HALF2(0.5, 0.5)) * HALF2(2.0, 2.0);
	s.z = sqrt(HALF(1.0) - (s.x*s.x) - (s.y*s.y));
	return s.xyz;
}
